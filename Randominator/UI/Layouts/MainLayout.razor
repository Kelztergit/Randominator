@inherits LayoutComponentBase

<CascadingValue Value=this IsFixed=true>
    <HeadMeta Title="@AppInfo.Name" 
        Description="A set of randomizing generators. Generate countless values, data sets, memes, jokes and more!" />

    <div class="page" theme="@this.ThemeCSS">
        <div class="sidebar">
            <NavMenu />
        </div>
    
        <main>
            <PageHeader @ref="this.Header"></PageHeader>
            <article class="content px-4 @_articleAdditionalClass">
                @Body
            </article>
            <PageFooter @ref="this.Footer" Items="@this.FooterItems"></PageFooter>
        </main>
    </div>
</CascadingValue>

@code {
    public PageHeader Header { get; private set; }
    public PageFooter Footer { get; private set; }
    public string ThemeCSS { get; private set; } = "sunset";
    public ICollection<PageFooter.Item> FooterItems { get; private set; }
    public string ArticleAdditionalClass 
    {
        get => this._articleAdditionalClass;
        set
        {
            this._articleAdditionalClass = value;
            base.StateHasChanged();
        }
    }
    private string _articleAdditionalClass;

    public void OverwriteFooterItems(IEnumerable<PageFooter.Item> items)
    {
        this.FooterItems = items != null ? new List<PageFooter.Item>(items) : null;
        base.StateHasChanged();
    }

    public void ChangeTheme(string themeCss)
    {
        this.ThemeCSS = themeCss;
        base.StateHasChanged();
    }
}